/*
Удаление дубликатов: Напишите функцию, которая удаляет все дубликаты слов из строки, оставляя только одно вхождение.

Летний город пригрелся, и улицы наполнились светом. Люди шли шли по тропинкам, разговаривали и улыбались. В парке дети запускали kites,      собаки бегали за мячом мячом, а старики сидели на скамейках. Кафе открыли террасы, и запах кофе кофе плыл по воздуху. Вечером фонари зажглись,  отражаясь в гладкой реке. Музыка доносилась из открытых окон, создавая атмосферу праздника. Ожидание выходного дня делало шаги легкими. Вечер обещал спокойный отдых, разговоры до поздней ночи и тихие тихие тихие прогулки.   Город жил своим ритмом, где где где простые вещи приносили радость.

[a-zа-я]{2,}

1 Получаем список всех слов,
2 Проходим циклом по всем найденным словам и проверяем дубликаты - сравниваем текущий элемент со следующим.,
3 Запоминаем index найденного дубликата,
4 Берем подстроку с учетом index, удаляем (replace) дубликат,
5 Объединяем часть подстроки с оставшимся текстом

*/

/*

let str = 'Летний город пригрелся, и улицы наполнились светом. Люди шли шли по тропинкам, разговаривали и улыбались. В парке дети запускали kites,      собаки бегали за мячом мячом, а старики сидели на скамейках. Кафе открыли террасы, и запах кофе кофе плыл по воздуху. Вечером фонари зажглись,  отражаясь в гладкой реке. Музыка доносилась из открытых окон, создавая атмосферу праздника. Ожидание выходного дня делало шаги легкими. Вечер обещал спокойный отдых, разговоры до поздней ночи и тихие тихие тихие прогулки.   Город жил своим ритмом, где где где простые вещи приносили радость.';

let words = str.match(/[\wа-яё]+/gi);

*/

/*

function findDuplicateIndices(text) {
  let words = text.split(/\s+/).filter(word => word.length > 0);
  let duplicateIndices = new Set();
  
  for (let i = 0; i < words.length - 1; i++) {
    if (words[i].toLowerCase() === words[i + 1].toLowerCase()) {
      duplicateIndices.add(i);
      duplicateIndices.add(i + 1);
    }
  }
  
  return Array.from(duplicateIndices).sort((a, b) => a - b);
}

let text = 'Летний город пригрелся, и улицы наполнились светом. Люди шли шли по тропинкам, разговаривали и улыбались. В парке дети запускали kites,      собаки бегали за мячом мячом, а старики сидели на скамейках. Кафе открыли террасы, и запах кофе кофе плыл по воздуху. Вечером фонари зажглись,  отражаясь в гладкой реке. Музыка доносилась из открытых окон, создавая атмосферу праздника. Ожидание выходного дня делало шаги легкими. Вечер обещал спокойный отдых, разговоры до поздней ночи и тихие тихие тихие прогулки.   Город жил своим ритмом, где где где простые вещи приносили радость.';

console.log("Изначальный текст:", text);
let indices = findDuplicateIndices(text);
console.log("Индексы дубликатов:", indices);
console.log("Слова дубликаты:", indices.map(idx => text.split(/\s+/)[idx]));

*/

function removeDuplicates(text) {
    let words = text.split(/\s+/);
    let result = [];
    
    for (let i = 0; i < words.length; i++) {
        
        if (i === 0 || words[i] !== words[i - 1]) {
            result.push(words[i]);
        }
    }
    
    return result.join(' ');
}

let text = 'Летний город пригрелся, и улицы наполнились светом. Люди шли шли по тропинкам, разговаривали и улыбались. В парке дети запускали kites,      собаки бегали за мячом мячом, а старики сидели на скамейках. Кафе открыли террасы, и запах кофе кофе плыл по воздуху. Вечером фонари зажглись,  отражаясь в гладкой реке. Музыка доносилась из открытых окон, создавая атмосферу праздника. Ожидание выходного дня делало шаги легкими. Вечер обещал спокойный отдых, разговоры до поздней ночи и тихие тихие тихие прогулки.   Город жил своим ритмом, где где где простые вещи приносили радость.';

let result = removeDuplicates(text);
console.log(text);
console.log(result); 


/*
Напишите ф-цию, которая из полного адреса с параметрами и без, например: https://tech.onliner.by/2018/04/26/smart-do-200/utm_source=main_tile&utm_medium=smartdo200#zag3 , получит адрес доменного имени (https://tech.onliner.by/), остальную часть адреса без
параметров (/2018/04/26/smart-do-200/), параметры (utm_source=main_tile&utm_medium=smartdo200) и хеш (#zag3). В адресе
может и не быть каких-либо составляющих. Ф-ция должна возвращать массив.
*/

function parseUrl(url) {
    
    let reg = /^(https?:\/\/[^\/?#]+)?([^?#]*)?(?:\?([^#]*))?(#.*)?$/;
    let match = url.match(reg);
    
    if (!match) {
        return ['', '', '', '']; 
    }
    
    let domain = match[1] ? match[1] + '/' : '';
    let path = match[2] || '';
    let params = match[3] || '';
    let hash = match[4] || '';
    
    return [domain, path, params, hash];
}

parseUrl(https://catalog.onliner.by/smartwatch/xiaomi);